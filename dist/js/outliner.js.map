{"version":3,"sources":["outliner.js"],"names":["window","Outliner","makeLinks","h2_array","forEach","h2","ndx","setAttribute","setupToC","ul","document","createElement","classList","add","li","a","text","textContent","appendChild","doTheThing","selector","console","log","element","querySelector","h2s","querySelectorAll","toc","prepend","init"],"mappings":";;AAAA,CAAC,YAAU;AAEP;AACAA,EAAAA,MAAM,CAACC,QAAP,GAAmB,YAAU;AAEzB,aAASC,SAAT,CAAmBC,QAAnB,EAA4B;AACxBA,MAAAA,QAAQ,CAACC,OAAT,CAAiB,UAACC,EAAD,EAAKC,GAAL,EAAa;AAC1BD,QAAAA,EAAE,CAACE,YAAH,CAAgB,IAAhB,oBAAiCD,GAAjC;AACH,OAFD;AAGH;;AAED,aAASE,QAAT,CAAkBL,QAAlB,EAA2B;AAEvB,UAAMM,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAX;AACAF,MAAAA,EAAE,CAACG,SAAH,CAAaC,GAAb,CAAiB,KAAjB;AACAV,MAAAA,QAAQ,CAACC,OAAT,CAAiB,UAACC,EAAD,EAAKC,GAAL,EAAa;AAC1B,YAAMQ,EAAE,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAX;AACA,YAAMI,CAAC,GAAGL,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV;AACAI,QAAAA,CAAC,CAACR,YAAF,CAAe,MAAf,qBAAmCD,GAAnC;AACAS,QAAAA,CAAC,CAACC,IAAF,GAASX,EAAE,CAACY,WAAZ;AAEAH,QAAAA,EAAE,CAACI,WAAH,CAAeH,CAAf;AACAN,QAAAA,EAAE,CAACS,WAAH,CAAeJ,EAAf;AACH,OARD;AAUA,aAAOL,EAAP;AACH;;AAED,aAASU,UAAT,CAAoBC,QAApB,EAA6B;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,QAApB;AAEA,UAAMG,OAAO,GAAGb,QAAQ,CAACc,aAAT,CAAuBJ,QAAvB,CAAhB;AACA,UAAMK,GAAG,GAAGF,OAAO,CAACG,gBAAR,CAAyB,IAAzB,CAAZ;AAEAxB,MAAAA,SAAS,CAACuB,GAAD,CAAT;AAEA,UAAME,GAAG,GAAGnB,QAAQ,CAACiB,GAAD,CAApB;AACAF,MAAAA,OAAO,CAACK,OAAR,CAAgBD,GAAhB;AACH;;AACD,WAAM;AACFE,MAAAA,IAAI,EAAEV;AADJ,KAAN;AAGH,GAvCiB,EAAlB;AAwCH,CA3CD","sourcesContent":["(function(){\n\n    /*Will ID all H2s, create links for each, add table of contents to the DOM */\n    window.Outliner = (function(){\n\n        function makeLinks(h2_array){\n            h2_array.forEach((h2, ndx) => {\n                h2.setAttribute(\"id\", `section-${ndx}`)\n            })\n        }\n\n        function setupToC(h2_array){\n\n            const ul = document.createElement(\"ul\");\n            ul.classList.add('toc');\n            h2_array.forEach((h2, ndx) => {\n                const li = document.createElement('li');\n                const a = document.createElement('a');\n                a.setAttribute('href', `#section-${ndx}`);\n                a.text = h2.textContent;\n\n                li.appendChild(a);\n                ul.appendChild(li);\n            })\n\n            return ul;\n        }\n\n        function doTheThing(selector){\n            console.log('init', selector);\n\n            const element = document.querySelector(selector);\n            const h2s = element.querySelectorAll(\"h2\");\n            \n            makeLinks(h2s);\n\n            const toc = setupToC(h2s);\n            element.prepend(toc);\n        }\n        return{\n            init: doTheThing\n        }\n    })()\n})()"],"file":"outliner.js"}